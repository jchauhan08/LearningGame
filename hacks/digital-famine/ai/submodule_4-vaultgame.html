---
layout: post
title: "Mini-Game"
description: "AI Mini-Game that tests knowledge from all three levels"
permalink: /digital-famine/ai/submodule_4/
microblog: true
parent: "AI Usage"
team: "Debuggers"
submodule: 4
categories: [CSP, Submodule, AIUsage]
tags: [ai, debuggers, mini-game]
author: "Debuggers Team - Lillian Wu, Ruchika Kench, Anishka Sanghvi"
date: 2025-10-21
---
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vault Quiz Game</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            min-height: 100vh;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .game-container {
            background: #1e293b;
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            padding: 32px;
            max-width: 800px;
            width: 100%;
            border: 4px solid #374151;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }

        .title {
            color: white;
            font-size: 28px;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .roadblock-counter {
            color: #fbbf24;
            font-weight: bold;
            font-size: 18px;
        }

        .progress-bar {
            background: #374151;
            height: 12px;
            border-radius: 999px;
            overflow: hidden;
            margin-bottom: 24px;
        }

        .progress-fill {
            background: #fbbf24;
            height: 100%;
            transition: width 0.5s ease;
        }

        .emoji-container {
            background: #374151;
            border: 4px solid #fbbf24;
            border-radius: 12px;
            padding: 32px;
            text-align: center;
            margin-bottom: 24px;
            font-size: 96px;
        }

        .question {
            color: white;
            font-size: 20px;
            font-weight: bold;
            background: #374151;
            padding: 16px;
            border-radius: 8px;
            margin-bottom: 24px;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-bottom: 24px;
        }

        .option-btn {
            width: 100%;
            text-align: left;
            padding: 16px;
            border-radius: 8px;
            font-weight: 600;
            font-size: 16px;
            border: 2px solid #4b5563;
            background: #374151;
            color: white;
            cursor: grab;
            transition: all 0.2s;
            user-select: none;
        }

        .option-btn:hover:not(:disabled) {
            background: #4b5563;
            border-color: #6b7280;
        }

        .option-btn.selected {
            background: #ca8a04;
            border-color: #fbbf24;
        }

        .option-btn.correct {
            background: #16a34a;
            border-color: #4ade80;
        }

        .option-btn.incorrect {
            background: #dc2626;
            border-color: #f87171;
        }

        .option-btn:disabled {
            cursor: not-allowed;
        }

        .feedback {
            padding: 16px;
            border-radius: 8px;
            border: 2px solid;
            margin-bottom: 24px;
            font-weight: 600;
            color: white;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .feedback.correct {
            background: #14532d;
            border-color: #4ade80;
        }

        .feedback.incorrect {
            background: #7f1d1d;
            border-color: #f87171;
        }

        .action-btn {
            width: 100%;
            padding: 16px;
            border-radius: 8px;
            font-weight: bold;
            font-size: 18px;
            border: none;
            cursor: pointer;
            transition: all 0.2s;
        }

        .action-btn.next {
            background: #16a34a;
            color: white;
        }

        .action-btn.next:hover {
            background: #15803d;
        }

        .action-btn.retry {
            background: #ca8a04;
            color: white;
        }

        .action-btn.retry:hover {
            background: #a16207;
        }

        .roadblock-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            animation: pulse 1s infinite;
        }

        .roadblock-text {
            background: #dc2626;
            border: 4px solid #fbbf24;
            border-radius: 12px;
            padding: 32px;
            max-width: 600px;
            text-align: center;
            color: white;
            font-size: 28px;
            font-weight: bold;
        }

        .victory-screen {
            text-align: center;
        }

        .victory-emoji {
            font-size: 96px;
            margin-bottom: 24px;
            animation: bounce 1s infinite;
        }

        .victory-title {
            font-size: 36px;
            font-weight: bold;
            color: #4ade80;
            margin-bottom: 16px;
        }

        .victory-text {
            font-size: 20px;
            color: #d1d5db;
            margin-bottom: 24px;
        }

        .treasure-box {
            background: #fef3c7;
            border: 4px solid #fbbf24;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 24px;
        }

        .treasure-text {
            font-size: 24px;
            font-weight: bold;
            color: #92400e;
        }

        .play-again-btn {
            background: #16a34a;
            color: white;
            padding: 16px 32px;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
        }

        .play-again-btn:hover {
            background: #15803d;
        }

        @keyframes pulse {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0.8;
            }
        }

        @keyframes bounce {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-20px);
            }
        }

        .hidden {
            display: none !important;
        }

        .code-entry-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.95);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
        }

        .code-entry-box {
            background: #1e293b;
            border: 4px solid #fbbf24;
            border-radius: 16px;
            padding: 40px;
            max-width: 500px;
            text-align: center;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.7);
        }

        .code-entry-title {
            color: #fbbf24;
            font-size: 32px;
            font-weight: bold;
            margin-bottom: 20px;
        }

        .code-entry-text {
            color: #d1d5db;
            font-size: 18px;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .code-input {
            width: 100%;
            padding: 16px;
            font-size: 24px;
            text-align: center;
            border: 3px solid #374151;
            border-radius: 8px;
            background: #0f172a;
            color: white;
            letter-spacing: 8px;
            margin-bottom: 20px;
            font-weight: bold;
        }

        .code-input:focus {
            outline: none;
            border-color: #fbbf24;
        }

        .code-submit-btn {
            background: #fbbf24;
            color: #1e293b;
            padding: 16px 40px;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            width: 100%;
        }

        .code-submit-btn:hover {
            background: #f59e0b;
        }

        .code-error {
            color: #ef4444;
            font-size: 16px;
            margin-top: 15px;
            font-weight: bold;
        }

        .drag-drop-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 24px;
        }

        .drop-zone {
            background: #374151;
            border: 3px dashed #6b7280;
            border-radius: 12px;
            padding: 20px;
            min-height: 300px;
        }

        .drop-zone.good {
            border-color: #10b981;
        }

        .drop-zone.bad {
            border-color: #ef4444;
        }

        .drop-zone-title {
            color: white;
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 16px;
            text-align: center;
            padding: 12px;
            border-radius: 8px;
            pointer-events: none;
        }

        .drop-zone.good .drop-zone-title {
            background: #065f46;
        }

        .drop-zone.bad .drop-zone-title {
            background: #7f1d1d;
        }

        .prompt-items {
            background: #1e293b;
            border: 2px solid #4b5563;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 24px;
            min-height: 200px;
        }

        .prompt-items-title {
            color: #fbbf24;
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 16px;
            text-align: center;
        }

        .prompt-item {
            background: #334155;
            border: 2px solid #64748b;
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 10px;
            color: white;
            cursor: move;
            font-size: 14px;
            line-height: 1.5;
            transition: all 0.2s;
        }

        .prompt-item:hover {
            background: #475569;
            border-color: #94a3b8;
        }

        .prompt-item.dragging {
            opacity: 0.5;
        }

        .prompt-item.in-zone {
            cursor: move;
        }

        .check-answer-btn {
            width: 100%;
            padding: 16px;
            border-radius: 8px;
            font-weight: bold;
            font-size: 18px;
            border: none;
            cursor: pointer;
            background: #fbbf24;
            color: #1e293b;
            transition: all 0.2s;
        }

        .check-answer-btn:hover {
            background: #f59e0b;
        }

        .check-answer-btn:disabled {
            background: #4b5563;
            color: #9ca3af;
            cursor: not-allowed;
        }
    </style>
</head>

<body>
    <div id="code-entry-overlay" class="code-entry-overlay">
        <div class="code-entry-box">
            <div class="code-entry-title">üîê Enter Vault Code</div>
            <p class="code-entry-text">
                You've collected codes from all three modules.<br>
                Enter the 3-digit code to unlock the final challenge!
            </p>
            <input type="text" id="code-input" class="code-input" maxlength="3" placeholder="‚Ä¢‚Ä¢‚Ä¢" autocomplete="off">
            <div id="code-error" style="color: #ef4444; margin-top: 10px; font-size: 16px;"></div>
            <button onclick="verifyCode()"
                style="width: 100%; padding: 16px; background: #16a34a; color: white; border: none; border-radius: 8px; font-size: 18px; font-weight: bold; cursor: pointer; margin-top: 20px;">Unlock
                Vault</button>
            <p style="color: #9ca3af; font-size: 14px; margin-top: 20px;">
                Hint: Module 1 = 2, Module 2 = 6, Module 3 = 1
            </p>
        </div>
    </div>

    <div id="roadblock-overlay" class="roadblock-overlay hidden">
        <div class="roadblock-text" id="roadblock-text"></div>
    </div>

    <div class="game-container">
        <div id="game-screen">
            <div class="header">
                <div class="title">
                    <span>üîí</span>
                    <span>Vault Challenge</span>
                </div>
                <div class="roadblock-counter" id="counter">Roadblock 1 / 3</div>
            </div>

            <div class="progress-bar">
                <div class="progress-fill" id="progress"></div>
            </div>

            <div class="emoji-container" id="emoji">üö™</div>

            <div class="question" id="question"></div>

            <div class="options" id="options"></div>

            <div id="feedback" class="hidden"></div>

            <div id="action-button"></div>
        </div>

        <div id="victory-screen" class="victory-screen hidden">
            <div class="victory-emoji">üîì</div>
            <h1 class="victory-title">üéâ VAULT UNLOCKED! üéâ</h1>
            <p class="victory-text">Congratulations! You've successfully navigated through all roadblocks and opened the
                vault!</p>
            <div class="treasure-box">
                <p class="treasure-text">üíé TREASURE ACQUIRED üíé</p>
            </div>
        </div>
    </div>

    <script>
        const roadblocks = [
            {
                id: 1,
                emoji: 'üö™',
                question: "A company develops an AI that can diagnose diseases using medical images. It can outperform human doctors in this one task, but cannot drive a car or play chess. Drag each statement to TRUE or FALSE:",
                hint: "Think about whether the AI is specialized in only one area or capable of doing many human tasks",
                isTrueFalse: true,
                statements: [
                    { id: 's1', text: "This AI is specialized in a single task (medical diagnosis)", answer: 'true' },
                    { id: 's2', text: "This AI has human-level intelligence across all domains", answer: 'false' },
                    { id: 's3', text: "This AI cannot perform tasks outside its training area", answer: 'true' },
                    { id: 's4', text: "This AI can improve itself and create new technologies", answer: 'false' }
                ],
                roadblockText: "üöß ROADBLOCK 1 üöß"
            },
            {
                id: 2,
                emoji: 'üîê',
                question: "Sort these prompts into Good (Detailed) or Bad (Vague) categories:",
                isDragDrop: true,
                prompts: [
                    { id: 'p1', text: "Fix the ship.", category: 'bad' },
                    { id: 'p2', text: "You're piloting a damaged spacecraft through an asteroid field. Write a 150-word distress signal to the nearest space station explaining your situation, current coordinates, and the help you need.", category: 'good' },
                    { id: 'p3', text: "Tell me about space.", category: 'bad' },
                    { id: 'p4', text: "Explain how a spacecraft's autopilot navigation system works to a cadet who has never used one before. Use an analogy comparing it to something on Earth and keep it under 100 words.", category: 'good' },
                    { id: 'p5', text: "Help with the autopilot.", category: 'bad' },
                    { id: 'p6', text: "Act as the ship's AI assistant. The oxygen recycler is malfunctioning and showing error code X-47. I'm not an engineer. Walk me through three simple diagnostic steps I can try, using clear numbered instructions.", category: 'good' }
                ],
                roadblockText: "üöß ROADBLOCK 2: Prompt Engineering Challenge üöß"
            },
            {
                id: 3,
                emoji: 'üåê',
                question: "Sort these statements about AI APIs into TRUE or FALSE:",
                hint: "Think about how AI APIs work and what they provide to developers",
                isTrueFalse: true,
                statements: [
                    { id: 's1', text: "AI APIs allow developers to access pre-trained AI models without building from scratch", answer: 'true' },
                    { id: 's2', text: "You need to train your own model before using any AI API", answer: 'false' },
                    { id: 's3', text: "AI APIs can be integrated into applications using HTTP requests", answer: 'true' },
                    { id: 's4', text: "All AI APIs are completely free with no usage limits", answer: 'false' }
                ],
                roadblockText: "üöß ROADBLOCK 3: AI APIs Challenge üöß"
            }
        ];

        let currentRoadblock = 0;
        let placements = {};
        let showFeedback = false;
        let dragDropState = {};
        let draggedElement = null;

        function showRoadblockOverlay() {
            console.log('showRoadblockOverlay called');
            const overlay = document.getElementById('roadblock-overlay');
            const text = document.getElementById('roadblock-text');
            console.log('Overlay element:', overlay);
            text.textContent = roadblocks[currentRoadblock].roadblockText;
            overlay.classList.remove('hidden');
            console.log('Roadblock overlay shown, will hide in 2.5s');

            setTimeout(() => {
                overlay.classList.add('hidden');
                console.log('Roadblock overlay hidden');
            }, 2500);
        }

        function updateUI() {
            console.log('updateUI called, currentRoadblock:', currentRoadblock);
            const current = roadblocks[currentRoadblock];
            console.log('Current roadblock data:', current);

            document.getElementById('counter').textContent = `Roadblock ${currentRoadblock + 1} / ${roadblocks.length}`;
            document.getElementById('progress').style.width = `${(currentRoadblock / roadblocks.length) * 100}%`;
            document.getElementById('emoji').textContent = current.emoji;
            document.getElementById('question').textContent = current.question;

            const optionsContainer = document.getElementById('options');
            optionsContainer.innerHTML = '';

            if (current.isDragDrop) {
                setupDragDropUI(current);
            } else if (current.isTrueFalse) {
                setupTrueFalseUI(current);
            } else {
                current.options.forEach(option => {
                    const btn = document.createElement('button');
                    btn.className = 'option-btn';
                    btn.innerHTML = `<span style="font-weight: bold; margin-right: 12px;">${option.id.toUpperCase()}.</span>${option.text}`;
                    btn.onclick = () => selectAnswer(option.id, btn);
                    btn.id = `option-${option.id}`;
                    optionsContainer.appendChild(btn);
                });
            }

            document.getElementById('feedback').classList.add('hidden');
            document.getElementById('action-button').innerHTML = '';
        }

        function setupDragDropUI(roadblock) {
            const container = document.getElementById('options');

            // Shuffle prompts
            const shuffled = [...roadblock.prompts].sort(() => Math.random() - 0.5);

            // Create prompt items container
            const promptsDiv = document.createElement('div');
            promptsDiv.className = 'prompt-items';
            promptsDiv.id = 'prompt-items';
            promptsDiv.innerHTML = '<div class="prompt-items-title">üìù Drag these prompts to sort them:</div>';

            shuffled.forEach(prompt => {
                const item = document.createElement('div');
                item.className = 'prompt-item';
                item.draggable = true;
                item.id = prompt.id;
                item.textContent = prompt.text;
                item.dataset.category = prompt.category;

                item.addEventListener('dragstart', handleDragStart);
                item.addEventListener('dragend', handleDragEnd);

                promptsDiv.appendChild(item);
            });

            // Create drop zones
            const dropContainer = document.createElement('div');
            dropContainer.className = 'drag-drop-container';

            const goodZone = document.createElement('div');
            goodZone.className = 'drop-zone good';
            goodZone.id = 'good-zone';
            goodZone.innerHTML = '<div class="drop-zone-title">‚úÖ Good (Detailed) Prompts</div>';

            const badZone = document.createElement('div');
            badZone.className = 'drop-zone bad';
            badZone.id = 'bad-zone';
            badZone.innerHTML = '<div class="drop-zone-title">‚ùå Bad (Vague) Prompts</div>';

            [goodZone, badZone].forEach(zone => {
                zone.addEventListener('dragover', handleDragOver);
                zone.addEventListener('dragleave', handleDragLeave);
                zone.addEventListener('drop', handleDrop);
            });

            dropContainer.appendChild(goodZone);
            dropContainer.appendChild(badZone);

            container.appendChild(promptsDiv);
            container.appendChild(dropContainer);

            // Add check answer button
            const checkBtn = document.createElement('button');
            checkBtn.className = 'check-answer-btn';
            checkBtn.textContent = 'Check Answer';
            checkBtn.onclick = checkDragDropAnswer;
            container.appendChild(checkBtn);

            // Initialize drag drop state
            dragDropState = {};
        }

        function setupTrueFalseUI(roadblock) {
            const container = document.getElementById('options');

            // Shuffle statements
            const shuffled = [...roadblock.statements].sort(() => Math.random() - 0.5);

            // Create statements container
            const statementsDiv = document.createElement('div');
            statementsDiv.className = 'prompt-items';
            statementsDiv.id = 'statement-items';
            statementsDiv.innerHTML = '<div class="prompt-items-title">üìù Drag statements to TRUE or FALSE:</div>';

            shuffled.forEach(statement => {
                const item = document.createElement('div');
                item.className = 'prompt-item';
                item.draggable = true;
                item.id = statement.id;
                item.textContent = statement.text;
                item.dataset.answer = statement.answer;

                item.addEventListener('dragstart', handleDragStart);
                item.addEventListener('dragend', handleDragEnd);

                statementsDiv.appendChild(item);
            });

            // Create TRUE/FALSE drop zones
            const dropContainer = document.createElement('div');
            dropContainer.className = 'drag-drop-container';

            const trueZone = document.createElement('div');
            trueZone.className = 'drop-zone good';
            trueZone.id = 'true-zone';
            trueZone.innerHTML = '<div class="drop-zone-title">‚úÖ TRUE</div>';

            const falseZone = document.createElement('div');
            falseZone.className = 'drop-zone bad';
            falseZone.id = 'false-zone';
            falseZone.innerHTML = '<div class="drop-zone-title">‚ùå FALSE</div>';

            [trueZone, falseZone].forEach(zone => {
                zone.addEventListener('dragover', handleDragOver);
                zone.addEventListener('dragleave', handleDragLeave);
                zone.addEventListener('drop', handleDrop);
            });

            dropContainer.appendChild(trueZone);
            dropContainer.appendChild(falseZone);

            container.appendChild(statementsDiv);
            container.appendChild(dropContainer);

            // Add check answer button
            const checkBtn = document.createElement('button');
            checkBtn.className = 'check-answer-btn';
            checkBtn.textContent = 'Check Answer';
            checkBtn.onclick = checkTrueFalseAnswer;
            container.appendChild(checkBtn);
        }

        function checkTrueFalseAnswer() {
            const trueZone = document.getElementById('true-zone');
            const falseZone = document.getElementById('false-zone');
            const statementItems = document.getElementById('statement-items');

            const trueItems = Array.from(trueZone.querySelectorAll('.prompt-item'));
            const falseItems = Array.from(falseZone.querySelectorAll('.prompt-item'));
            const unsortedItems = Array.from(statementItems.querySelectorAll('.prompt-item'));

            // Check if all items have been sorted
            if (unsortedItems.length > 0) {
                const feedback = document.getElementById('feedback');
                feedback.className = 'feedback incorrect';
                feedback.innerHTML = '<span style="font-size: 24px;">‚ùå</span><span>Please sort ALL statements before checking your answer.</span>';
                feedback.classList.remove('hidden');

                const actionButtonContainer = document.getElementById('action-button');
                actionButtonContainer.innerHTML = '';
                const actionBtn = document.createElement('button');
                actionBtn.className = 'action-btn retry';
                actionBtn.textContent = 'Continue Sorting';
                actionBtn.onclick = () => {
                    feedback.classList.add('hidden');
                };
                actionButtonContainer.appendChild(actionBtn);
                return;
            }

            // Reset all item styles
            [...trueItems, ...falseItems].forEach(item => {
                item.style.background = '';
                item.style.borderColor = '';
            });

            let allCorrect = true;

            trueItems.forEach(item => {
                if (item.dataset.answer !== 'true') {
                    allCorrect = false;
                    item.style.background = '#7f1d1d';
                    item.style.borderColor = '#ef4444';
                }
            });

            falseItems.forEach(item => {
                if (item.dataset.answer !== 'false') {
                    allCorrect = false;
                    item.style.background = '#7f1d1d';
                    item.style.borderColor = '#ef4444';
                }
            });

            showFeedback = true;

            const feedback = document.getElementById('feedback');
            feedback.className = `feedback ${allCorrect ? 'correct' : 'incorrect'}`;
            feedback.innerHTML = allCorrect
                ? '<span style="font-size: 24px;">‚úÖ</span><span>Perfect! All statements sorted correctly!</span>'
                : '<span style="font-size: 24px;">‚ùå</span><span>Not quite right. Red statements are in the wrong category.</span>';
            feedback.classList.remove('hidden');

            const actionButtonContainer = document.getElementById('action-button');
            actionButtonContainer.innerHTML = '';

            const actionBtn = document.createElement('button');
            actionBtn.className = `action-btn ${allCorrect ? 'next' : 'retry'}`;

            if (allCorrect) {
                actionBtn.textContent = currentRoadblock < roadblocks.length - 1
                    ? 'Proceed to Next Roadblock ‚Üí'
                    : 'Open Vault! üîì';
                actionBtn.onclick = nextRoadblock;
            } else {
                actionBtn.textContent = 'Try Again';
                actionBtn.onclick = () => {
                    showFeedback = false;
                    updateUI();
                };
            }

            actionButtonContainer.appendChild(actionBtn);
        }

        function handleDragStart(e) {
            draggedElement = e.target;
            e.target.classList.add('dragging');
            e.dataTransfer.effectAllowed = 'move';
            e.dataTransfer.setData('text/plain', e.target.id);
        }

        function handleDragEnd(e) {
            e.target.classList.remove('dragging');
        }

        function handleDragOver(e) {
            e.preventDefault();
            e.dataTransfer.dropEffect = 'move';

            // Add visual feedback
            const dropzone = e.target.classList.contains('drop-zone')
                ? e.target
                : e.target.closest('.drop-zone');

            if (dropzone) {
                dropzone.style.borderStyle = 'solid';
                dropzone.style.backgroundColor = 'rgba(59, 130, 246, 0.1)';
            }

            return false;
        }

        function handleDragLeave(e) {
            const dropzone = e.target.classList.contains('drop-zone')
                ? e.target
                : e.target.closest('.drop-zone');

            if (dropzone) {
                dropzone.style.borderStyle = 'dashed';
                dropzone.style.backgroundColor = '#374151';
            }
        }

        function handleDrop(e) {
            e.stopPropagation();
            e.preventDefault();

            const dropzone = e.target.classList.contains('drop-zone')
                ? e.target
                : e.target.closest('.drop-zone');

            if (dropzone && draggedElement) {
                // Reset visual feedback
                dropzone.style.borderStyle = 'dashed';
                dropzone.style.backgroundColor = '#374151';

                // Move the element
                dropzone.appendChild(draggedElement);
                draggedElement.classList.add('in-zone');
            }

            return false;
        }

        function checkDragDropAnswer() {
            const goodZone = document.getElementById('good-zone');
            const badZone = document.getElementById('bad-zone');
            const promptItems = document.getElementById('prompt-items');

            const goodItems = Array.from(goodZone.querySelectorAll('.prompt-item'));
            const badItems = Array.from(badZone.querySelectorAll('.prompt-item'));
            const unsortedItems = Array.from(promptItems.querySelectorAll('.prompt-item'));

            // Check if all items have been sorted
            if (unsortedItems.length > 0) {
                const feedback = document.getElementById('feedback');
                feedback.className = 'feedback incorrect';
                feedback.innerHTML = '<span style="font-size: 24px;">‚ùå</span><span>Please sort ALL prompts before checking your answer.</span>';
                feedback.classList.remove('hidden');

                // Clear and update button
                const actionButtonContainer = document.getElementById('action-button');
                actionButtonContainer.innerHTML = '';
                const actionBtn = document.createElement('button');
                actionBtn.className = 'action-btn retry';
                actionBtn.textContent = 'Continue Sorting';
                actionBtn.onclick = () => {
                    feedback.classList.add('hidden');
                };
                actionButtonContainer.appendChild(actionBtn);
                return;
            }

            // Reset all item styles
            [...goodItems, ...badItems].forEach(item => {
                item.style.background = '';
                item.style.borderColor = '';
            });

            let allCorrect = true;

            goodItems.forEach(item => {
                if (item.dataset.category !== 'good') {
                    allCorrect = false;
                    item.style.background = '#7f1d1d';
                    item.style.borderColor = '#ef4444';
                }
            });

            badItems.forEach(item => {
                if (item.dataset.category !== 'bad') {
                    allCorrect = false;
                    item.style.background = '#7f1d1d';
                    item.style.borderColor = '#ef4444';
                }
            });

            showFeedback = true;

            const feedback = document.getElementById('feedback');
            feedback.className = `feedback ${allCorrect ? 'correct' : 'incorrect'}`;
            feedback.innerHTML = allCorrect
                ? '<span style="font-size: 24px;">‚úÖ</span><span>Perfect! All prompts sorted correctly!</span>'
                : '<span style="font-size: 24px;">‚ùå</span><span>Not quite right. Red prompts are in the wrong category.</span>';
            feedback.classList.remove('hidden');

            // Clear previous button and create new one
            const actionButtonContainer = document.getElementById('action-button');
            actionButtonContainer.innerHTML = '';

            const actionBtn = document.createElement('button');
            actionBtn.className = `action-btn ${allCorrect ? 'next' : 'retry'}`;

            if (allCorrect) {
                actionBtn.textContent = currentRoadblock < roadblocks.length - 1
                    ? 'Proceed to Next Roadblock ‚Üí'
                    : 'Open Vault! üîì';
                actionBtn.onclick = nextRoadblock;
            } else {
                actionBtn.textContent = 'Try Again';
                actionBtn.onclick = () => {
                    showFeedback = false;
                    updateUI();
                };
            }

            actionButtonContainer.appendChild(actionBtn);
        }

        function selectAnswer(answerId, btn) {
            if (showFeedback) return;

            selectedAnswer = answerId;
            showFeedback = true;

            const current = roadblocks[currentRoadblock];
            const isCorrect = selectedAnswer === current.correctAnswer;

            document.querySelectorAll('.option-btn').forEach(b => b.disabled = true);

            btn.classList.add(isCorrect ? 'correct' : 'incorrect');

            const feedback = document.getElementById('feedback');
            feedback.className = `feedback ${isCorrect ? 'correct' : 'incorrect'}`;
            feedback.innerHTML = isCorrect
                ? '<span style="font-size: 24px;">‚úÖ</span><span>Correct! You may proceed.</span>'
                : '<span style="font-size: 24px;">‚ùå</span><span>Incorrect! Try again.</span>';
            feedback.classList.remove('hidden');

            const actionBtn = document.createElement('button');
            actionBtn.className = `action-btn ${isCorrect ? 'next' : 'retry'}`;

            if (isCorrect) {
                actionBtn.textContent = currentRoadblock < roadblocks.length - 1
                    ? 'Proceed to Next Roadblock ‚Üí'
                    : 'Open Vault! üîì';
                actionBtn.onclick = nextRoadblock;
            } else {
                actionBtn.textContent = 'Try Again';
                actionBtn.onclick = retry;
            }

            document.getElementById('action-button').appendChild(actionBtn);
        }

        function retry() {
            selectedAnswer = null;
            showFeedback = false;

            document.querySelectorAll('.option-btn').forEach(btn => {
                btn.disabled = false;
                btn.classList.remove('correct', 'incorrect', 'selected');
            });

            document.getElementById('feedback').classList.add('hidden');
            document.getElementById('action-button').innerHTML = '';
        }

        function nextRoadblock() {
            if (currentRoadblock < roadblocks.length - 1) {
                currentRoadblock++;
                updateUI();
                showRoadblockOverlay();
            } else {
                showVictory();
            }
        }

        function showVictory() {
            document.getElementById('game-screen').classList.add('hidden');
            document.getElementById('victory-screen').classList.remove('hidden');
        }

        function resetGame() {
            currentRoadblock = 0;
            document.getElementById('game-screen').classList.remove('hidden');
            document.getElementById('victory-screen').classList.add('hidden');
            updateUI();
            showRoadblockOverlay();
        }

        function proceedForward() {
            // Empty function - button doesn't lead anywhere yet
            console.log('Proceeding forward...');
        }

        function verifyCode() {
            console.log('verifyCode called');
            const input = document.getElementById('code-input').value;
            console.log('Input value:', input);
            const errorDiv = document.getElementById('code-error');
            const correctCode = '261'; // Module 1 = 2, Module 2 = 6, Module 3 = 1

            if (input === correctCode) {
                console.log('Code is correct! Starting game...');
                const overlay = document.getElementById('code-entry-overlay');
                overlay.classList.add('hidden');
                console.log('Code entry overlay classes:', overlay.className);
                console.log('Code entry overlay display:', window.getComputedStyle(overlay).display);
                errorDiv.textContent = '';

                // Initialize game after successful code entry
                updateUI();
                showRoadblockOverlay();
            } else {
                console.log('Code is incorrect');
                errorDiv.textContent = '‚ùå Incorrect code. Try again!';
                document.getElementById('code-input').value = '';
            }
        }
    </script>

    <footer
        style="position: fixed; bottom: 0; left: 0; right: 0; background: rgba(15, 23, 42, 0.98); border-top: 2px solid rgba(251, 191, 36, 0.3); padding: 1rem; text-align: center; z-index: 100;">
        <a href="{{ '/digital-famine/ai/' | prepend: site.baseurl }}"
            style="display: inline-block; color: #fbbf24; text-decoration: none; font-size: 1rem; font-weight: 600; padding: 0.5rem 1.25rem; border: 2px solid rgba(251, 191, 36, 0.4); border-radius: 0.5rem; transition: all 0.2s ease; background: rgba(251, 191, 36, 0.1);">
            ‚Üê Back to AI Quest Home
        </a>
    </footer>
</body>

</html>